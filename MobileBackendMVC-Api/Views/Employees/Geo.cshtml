@model IEnumerable<MobileBackendMVC_Api.ViewModels.EmployeesViewModel>
@{
    ViewBag.Title = "Geo";
}


@*<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>*@
@*<script src="http://maps.googleapis.com/maps/api/js"></script>*@
@*<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTiMTzgFGphHJTGCc1p4D9UTipHyDg5MU&callback=initMap" async defer></script>*@
@*<script src="https://maps.googleapis.com/maps/api/js?callback=myMap"></script>*@


       

@section head {
        <link href="~/Content/bootstrap.min.css" rel="stylesheet" />

}

    <!-- !SIDEMENU CONTENT!
    ================================================== -->
    @{ Html.RenderAction("SideMenu", "Customers");}

    <!-- !PAGE CONTENT!
    ================================================== -->
<div class="w3-main" style="margin-left:300px">

        <!-- Push down content on small screens -->
<div class="w3-hide-large" style="margin-top:83px"></div>

        <!-- Container -->
        <div class="w3-container">
            <h2>Geo</h2>
            <div>
                <p id="demo">Tarkista sijaintisi</p>
                <p>&nbsp;</p>

                <button onclick="getLocation()">My Location</button>
             
                <div id="mapholder" style="width:100%;height:400px;"></div>
              

                @*<div id="mapholder"></div>*@
              
            </div>
        </div><!-- End content -->
</div><!-- End page content -->

<script>
     //Omasijaintikartta
     var x = document.getElementById("demo");

     function getLocation() {
         if (navigator.geolocation) {
             navigator.geolocation.getCurrentPosition(showPosition, showError);
         } else {
             x.innerHTML = "Geolocation is not supported by this browser.";
         }
     }

     function showPosition(position) {
         var latlon = position.coords.latitude + "," + position.coords.longitude;

         var img_url = "https://maps.googleapis.com/maps/api/staticmap?center="
             + latlon + "&zoom=14&size=400x300&key=AIzaSyDTiMTzgFGphHJTGCc1p4D9UTipHyDg5MU";
         document.getElementById("mapholder").innerHTML = "<img src='" + img_url + "'>";
     }
     ////To use this code on your website, get a free API key from Google.
     ////Read more at: https://www.w3schools.com/graphics/google_maps_basic.asp

     function showError(error) {
         switch (error.code) {
             case error.PERMISSION_DENIED:
                 x.innerHTML = "User denied the request for Geolocation."
                 break;
             case error.POSITION_UNAVAILABLE:
                 x.innerHTML = "Location information is unavailable."
                 break;
             case error.TIMEOUT:
                 x.innerHTML = "The request to get user location timed out."
                 break;
             case error.UNKNOWN_ERROR:
                 x.innerHTML = "An unknown error occurred."
                 break;
         }
     }
</script>

